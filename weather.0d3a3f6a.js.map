{"mappings":"AAMA,MAAMA,EAAgBC,SAASC,cAAc,mBAEvCC,EAAcH,EAAcI,kBAE5BC,EAAmBJ,SAASC,cAAc,qBAE1CI,EAAkCC,IACtC,MAAMC,EAAO,IAAIC,KAAe,IAAVF,GAEtB,MAAO,GAAG,GAAGC,EAAKE,aAAaC,SAC7B,EACA,MACG,GAAGH,EAAKI,eAAeD,SAAS,EAAG,IAAI,EA8B9CX,EAAca,iBAAiB,UA3BCC,IAC9BA,EAAMC,iBAEN,MAAMC,EAAcb,EAAYc,MAAMC,OCnBX,IAACC,EDqBvBH,IAILb,EAAYc,MAAQ,ICzBQE,ED2BPH,EC1BrBI,MAAM,qDAAiBD,iEAAkDE,MACtEC,IACC,IAAKA,EAAIC,GACP,MAAM,IAAIC,MAAMF,EAAIG,QAGtB,OAAOH,EAAII,MAAM,KDqBlBL,MAAK,EAAGM,KAAKC,OAAEA,EAAMC,QAAEA,KAAYC,MAAcC,MAChD,MAAMC,EAAe,IAChBD,EACHJ,IAAK,IACAG,EACHD,QAASvB,EAAgCuB,GACzCD,OAAQtB,EAAgCsB,KAI5CvB,EAAiB4B,UAAYC,QAAQC,IAAIH,EAAa,IAEvDI,MAAMF,QAAQG,MAAK","sources":["src/js/weather.js","src/js/weather-api.js"],"sourcesContent":["// https://www.weatherbit.io/api\n\nimport getWeatherByCityName from './weather-api';\n\n// import weatherCardTemplate from \"../templates/weather-card.hbs\";\n\nconst weatherFormEl = document.querySelector('.js-search-form');\n\nconst cityInputEl = weatherFormEl.firstElementChild;\n\nconst weatherWrapperEl = document.querySelector('.weather__wrapper');\n\nconst convertSecondsToHoursAndMinutes = seconds => {\n  const date = new Date(seconds * 1000);\n\n  return `${`${date.getHours()}`.padStart(\n    2,\n    0\n  )}:${`${date.getMinutes()}`.padStart(2, 0)}`;\n};\n\nconst handleWeatherFormSubmit = event => {\n  event.preventDefault();\n\n  const searchQuery = cityInputEl.value.trim();\n\n  if (!searchQuery) {\n    return;\n  }\n\n  cityInputEl.value = '';\n\n  getWeatherByCityName(searchQuery)\n    .then(({ sys: { sunset, sunrise, ...sysData }, ...data }) => {\n      const enhancedData = {\n        ...data,\n        sys: {\n          ...sysData,\n          sunrise: convertSecondsToHoursAndMinutes(sunrise),\n          sunset: convertSecondsToHoursAndMinutes(sunset),\n        },\n      };\n      // чтоб увидеть результат не в консоле нужно создать разметку шаблон weatherCardTemplate и заменить консоль\n      weatherWrapperEl.innerHTML = console.log(enhancedData);\n    })\n    .catch(console.warn);\n};\n\nweatherFormEl.addEventListener('submit', handleWeatherFormSubmit);\n","\"use strict\";\n\nconst BASE_URL = \"https://api.openweathermap.org/data/2.5/weather\";\nconst API_KEY = \"9c6d356df795525b572ef209f6cb500f\";\n\nconst getWeatherByCityName = (cityName) =>\n  fetch(`${BASE_URL}?q=${cityName}&appid=${API_KEY}&lang=ua&units=metric`).then(\n    (res) => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }\n\n      return res.json();\n    }\n  );\n\nexport default getWeatherByCityName;\n"],"names":["$83ee39fa453a4c23$var$weatherFormEl","document","querySelector","$83ee39fa453a4c23$var$cityInputEl","firstElementChild","$83ee39fa453a4c23$var$weatherWrapperEl","$83ee39fa453a4c23$var$convertSecondsToHoursAndMinutes","seconds","date","Date","getHours","padStart","getMinutes","addEventListener","event","preventDefault","searchQuery","value","trim","cityName","fetch","then","res","ok","Error","status","json","sys","sunset","sunrise","sysData","data","enhancedData","innerHTML","console","log","catch","warn"],"version":3,"file":"weather.0d3a3f6a.js.map"}